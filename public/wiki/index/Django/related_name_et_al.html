
<!DOCTYPE html>
<html lang="en-us" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
  <head lang="en-us">
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="dark light">
    <meta name="description" content="" />
    <meta name="author" content="">
    <meta name="keywords" content="115, 116, 114, 105, 110, 103, 91, 93">
    <title>Related Name</title>
    <link rel="canonical" href="//localhost:1313/blog/" />  
    <link
      href="../blog/index.xml"
      rel="alternate"
      type="application/rss+xml"
      title="Faaiz Ajaz"
    />    
    <meta property="og:type" content="website" />
    <meta property="og:description" content="" />
    <meta property="og:title" content="Blogs" />
    <meta property="og:site_name" content="Faaiz Ajaz" />
    <meta property="og:image:type" content="image/jpeg" />
    <meta property="og:url" content="//localhost:1313/blog/" />
    <meta property="og:locale" content="en-us" />  
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Blogs | Faaiz Ajaz" />
    <meta name="twitter:description" content="" />
    <meta name="twitter:domain" content="//localhost:1313/blog/" />
  
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/modern-normalize@1.0.0/modern-normalize.min.css">

    <link rel="stylesheet" href="../style.min.24dece96ebe77a911ff4af20cffc54f5b46ee96ad7e33f168e1af342b043ec26.css" integrity="sha256-JN7OluvnepEf9K8gz/xU9bRu6WrX4z8WjhrzQrBD7CY=" rel="preload stylesheet" as="style"/>  
  </head>
  <body>
    <script>
      const currentTheme = window.localStorage.getItem('theme')
      if (currentTheme === "dark") {
        document.body.classList.toggle("theme-dark");
      } else if (currentTheme == "light") {
        document.body.classList.toggle("theme-light");
      }
    </script>
      <header id="header">
        <div class="row">
          <div class="container has-padding nav">
            <button id="navbar-toggler" class="navbar-button" aria-hidden="true">
              <svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z'/></svg>
            </button>
            <div class="navbar-brand">
              <a class="logo navbar-button" href="../" title="Faaiz Ajaz">
                <span>Faaiz Ajaz</span>
              </a>
            </div>
            <nav class="navbar" role="navigation">
        <ul>         
          
            <li class="nav-bar-item">
              <a class="nav-link navbar-button" href="../" title="about">
                <span>about</span>
              </a>
            </li>
          
            <li class="nav-bar-item">
              <a class="nav-link navbar-button" href="../blog/" title="blog">
                <span>blog</span>
              </a>
            </li>
          
            <li class="nav-bar-item active">
              <a class="nav-link navbar-button" href="../wiki/" title="wiki">
                <span>wiki</span>
              </a>
            </li>
          
        </ul>
      </nav>
      <div class="theme-selector">
        <button class="button is-text" id="theme-selector-button" title="toggle theme">
          <span class="label icon">





<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 32C132.29 32 32 132.29 32 256s100.29 224 224 224 224-100.29 224-224S379.71 32 256 32zM128.72 383.28A180 180 0 01256 76v360a178.82 178.82 0 01-127.28-52.72z'/></svg>











</span>
        </button>
      </div>
    </div>
    <div class="container has-padding">
      <div class="breadcrumb">
        
<ol  class="breadcrumb-nav">
  

  

<li >
  <a href="../">Home</a>
</li>


<li class="active">
  <a href="../wiki/">Wiki</a>
</li>

</ol>




      </div>
    </div>
  </div>
</header>

    
<main id="main" class="list">
  <div class="container has-padding">
    
    
<!-- Wiki content -->

  <h1>Related Name</h1>

<br>

<p>
Django maintains backward relation on each object for easy access to related objects. Suppose you have two models named "School" and "Student" and one school can have multiple students. So you will have model definition something like this
</p>

<div class="zim-object">
<pre><code class="python3">class School(models.Model):
	name = models.CharField(max_length=55)
	city = models.Charfield(max_length=55)

class Student(models.Model):
	name = models.CharField(max_length=55)
	school = models.ForeignKey(School)
</code></pre>
</div>

<p>
Now if you have an school objects then you can access all students of that school with writing query explictly.
</p>

<div class="zim-object">
<pre><code class="python3">school = School.objects.get(id=1)
# Now if need all students of this school, first thing that come in your mind would be
Student.objects.filter(school=school)
# But instead of this, you can access all students by
school.student_set.all()
</code></pre>
</div>

<br>

<p>
Here student_set is the default, related name made by Django. But you can have your custom related names like this
</p>

<div class="zim-object">
<pre><code class="python3">class Student(models.Model):
	name = models.CharField(max_length=55)
	school = models.ForeignKey(School, related_name='students')
# Now you can do
school.students.all()
</code></pre>
</div>

<br>

<h2>Special Character in related name</h2>

<p>
If you define related_name='+' then backward relation would not be available on object and school.student_set.all() will give you error.
</p>

<p>
If you’d prefer Django not to create a backwards relation, set related_name to '+' or end it with '+'. For example, this will ensure that the User model won’t have a backwards relation to this model:
</p>

<h2>Related Query Name</h2>

<p>
related_query_name is similar to related_name but it gets used in queryset.
</p>

<p>
If you need to apply some filter on student via school model, then you would do
</p>

<div class="zim-object">
<pre><code class="python3">School.objects.filter(student__name='abc')
</code></pre>
</div>

<br>

<p>
But if you define related_query_name then you can do
</p>

<div class="zim-object">
<pre><code class="python3">class Student(models.Model):
	name = models.CharField(max_length=55)
	school = models.ForeignKey(School, related_query_name='abc')
# Now you can do
School.objects.filter(abc__name='abc')
</code></pre>
</div>



<!-- End wiki content -->



  </div>
</main>

    <footer id="footer">
  <div class="container has-padding is-flex">
    <ul class="links">
      
      
    </ul>
    <div class="copyright">
       &copy; 2021 Faaiz Ajaz
      
    </div>
  </div>
</footer>

<script>
    window.FluencyCopyIcon = '\n\n\n\n\n\n\n\u003csvg xmlns=\u0027http:\/\/www.w3.org\/2000\/svg\u0027 class=\u0027ionicon\u0027 viewBox=\u00270 0 512 512\u0027\u003e\u003crect x=\u0027128\u0027 y=\u0027128\u0027 width=\u0027336\u0027 height=\u0027336\u0027 rx=\u002757\u0027 ry=\u002757\u0027 stroke-linejoin=\u0027round\u0027 class=\u0027ionicon-fill-none ionicon-stroke-width\u0027\/\u003e\u003cpath d=\u0027M383.5 128l.5-24a56.16 56.16 0 00-56-56H112a64.19 64.19 0 00-64 64v216a56.16 56.16 0 0056 56h24\u0027 stroke-linecap=\u0027round\u0027 stroke-linejoin=\u0027round\u0027 class=\u0027ionicon-fill-none ionicon-stroke-width\u0027\/\u003e\u003c\/svg\u003e\n\n\n\n\n\n\n\n\n\n\n'
</script>


<script defer src="../js/main.min.7685c4d03abca7fd02a772a2e64c7a8aa3a7031024bbab70a17975e8928cb004.js" integrity="sha256-doXE0Dq8p/0Cp3Ki5kx6iqOnAxAku6twoXl16JKMsAQ=" crossorigin="anonymous" async></script>




<noscript>
<style type=text/css>#theme-selector-button{display:none}</style>
</noscript>




  <script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script></body>
</html>
